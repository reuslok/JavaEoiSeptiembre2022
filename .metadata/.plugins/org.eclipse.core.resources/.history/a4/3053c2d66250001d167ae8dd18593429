package es.eoi.app;

import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;
import java.util.Scanner;

import com.google.protobuf.TextFormat.ParseException;


public class GestionInstituto {
	static Scanner sc= new Scanner(System.in);

	static boolean terminarMenu=true;
	public static void GestionInstituto() throws SQLException {

		do {
		System.out.println("GESTION INSTITUTO V1\r\n"
				+ "-------------------------------\r\n"
				+ "1 – Listado Alumnos\r\n"
				+ "2 – Busca Alumno (DNI)\r\n"
				+ "3 – Crear Alumno\r\n"
				+ "4 – Modificar Alumno\r\n"
				+ "5 – Eliminar Alumno\r\n"
				+ "0 – SALIR\r\n"
				+ "-------------------------------");
		String opcion= sc.nextLine();
switch(opcion) {
		
//		Listado Alumnos.
		case"1":
			System.out.println("1 – Listado Alumnos");
			
			ListadoAlumnos();
			break;
//		Listar Calificaciones.
		case"2":
			BuscaAlumno();
			System.out.println("2 – Busca Alumno (DNI)");
			String dni= sc.nextLine();
			break;
//			Crear Alumno
		case"3":
			System.out.println("3 – Crear Alumno");
			CrearAlumno();
			break;
//			Modificar Alumno
		case"4":
			System.out.println("4 – Modificar Alumno");
			ModificarAlumno();

			break;
//			Eliminar Alumno
		case"5":
			System.out.println("5 – Eliminar Alumno");
			EliminarAlumno();

			
			break;
//			Salir
		case"0":
			System.out.println("0 – SALIR");
			terminarMenu=false;
			sc.close();
			break;
		default:
			System.out.println("opcion no reconocida");
			break;
		}
		}
		while(terminarMenu);
		}
	private static void EliminarAlumno() {
		// TODO Auto-generated method stub
		
	}
	private static void ModificarAlumno() {
		// TODO Auto-generated method stub
		
	}
	private static void CrearAlumno() {
		String DNI="";
		String nombre="";
		String apellidos="";
		String edad="";
		while(DNI.length()!=10) {
		System.out.println("Inserte DNI");
		DNI=sc.nextLine();
		if(DNI.length()!=10) {
			System.out.println("longitud de DNI incorrecta");
		}
		else {
			System.out.println("Inserte nombre");
			nombre=sc.nextLine();
			System.out.println("Inserte apellidos");
			apellidos=sc.nextLine();
			System.out.println("Inserte edad");
			edad=sc.nextLine();
			if(!(edad.isBlank())) {
			try {
			Integer.parseInt(edad);
			}
			catch (NumberFormatException e) {
				System.out.println("el valor introducido no es un numero");
				System.out.println("Inserte edad");
				edad=sc.nextLine();
			}
			}
		}
		}
	}
	private static void BuscaAlumno() {
		// TODO Auto-generated method stub
		
	}
	private static void ListadoAlumnos() throws SQLException {
	
		while(Main.rs.next()){
			System.out.println(Main.rs.getString("DNI").concat(" - ").concat(
					Main.rs.getString("NOMBRE")).concat(" - ").concat(
					Main.rs.getString("APELLIDOS")).concat(" - ")+
					Main.rs.getInt("EDAD"));
			if(Main.rs.isLast()) {
				Main.rs = Main.st.executeQuery("SELECT * FROM alumno");
				break;
			}
			}
		
	}
	}
